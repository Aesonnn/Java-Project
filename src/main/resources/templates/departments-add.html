<!-- <!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<style>
  .error-message {
      color: red; 
  }
</style>

<head>
    <title>Departments</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>

<header th:insert="~{blocks/header :: header}"></header>
      
      <div class="container mt-5 mb-5">
        <h1>Adding department</h1>
        <form action="/departments/add" method="post">
            <div class="error-message" th:if="${titleError}" th:text="${titleError}"></div> 
            <input type="text" name="title" placeholder="Name of the department" class="form-control"><br>
            <input type="text" name="description" placeholder="Description (optional)" class="form-control"><br>
            <button type="submit" class="btn btn-success">Add</button>
        </form>      
      </div>
<div th:insert="~{blocks/footer :: footer}"></div>
</body>
</html> -->

<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" class="dark">
<head>
    <title>Add Department</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/webjars/jquery/3.6.3/jquery.min.js"></script>
</head> 
<body class="bg-gray-900 text-gray-200 min-h-screen"> 
  <header th:insert="~{blocks/newheader :: header}"></header>
  <div class="bg-gray-900 text-gray-200 h-screen flex items-center justify-center">
    <div class="w-full max-w-lg bg-gray-800 rounded-lg shadow-md p-8"> 
        <h2 class="text-2xl font-bold text-gray-100 mb-6">Add Department</h2>

        <form class="flex flex-col" action="/departments/add" method="post" onsubmit="return validateForm()">
            <div class="error-message" th:if="${titleError}" th:text="${titleError}"></div> 
            <input
                type="text"
                class="bg-gray-700 text-gray-200 border-0 rounded-md p-2 mb-4 focus:bg-gray-600 focus:outline-none focus:ring-1 focus:ring-indigo-500 transition ease-in-out duration-150 w-full"
                placeholder="Title *"
                name="title"
            />
            <input
                type="text" 
                class="bg-gray-700 text-gray-200 border-0 rounded-md p-2 mb-4 focus:bg-gray-600 focus:outline-none focus:ring-1 focus:ring-indigo-500 transition ease-in-out duration-150 w-full"
                placeholder="Description"
                name="description"
            />
            <button
                type="submit"
                class="bg-gradient-to-r from-indigo-500 to-blue-500 text-white font-bold py-2 px-4 rounded-md mt-4 hover:bg-indigo-600 hover:to-blue-600 transition ease-in-out duration-150"
            >
                Add Department
            </button>
        </form>
    </div>
  </div>
</body>
</html>

<script>
    function validateForm() {
        var title = document.forms[0].title.value;
        var description = document.forms[0].description.value;
        
        if (title === "") {
            alert("Title is required");
            return false;
        }
        
        if (title.length > 150) {
            alert("Title cannot exceed 150 characters");
            return false;
        }
        
        if (description.length > 150) {
            alert("Description cannot exceed 150 characters");
            return false;
        }
    }
</script>

</body>
</html>